(()=>{"use strict";var n={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},d:(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)};const e=require("process");var o=n.n(e);const t=require("path");var i=n.n(t);const r=require("electron");var a=n.n(r);class l{mainWindow(){let n,e,t,r,l,s;"darwin"===o().platform?(n=340,e=423,t=304,r=352,l=540,s=642):(n=420,e=528,t=380,r=440,l=670,s=800);let d=1;"darwin"===o().platform&&(d=.8),this.window=new(a().BrowserWindow)({title:"Pritunl Client",icon:i().join(__dirname,"..","logo.png"),frame:!0,autoHideMenuBar:!0,fullscreen:!1,show:!1,width:n,height:e,minWidth:t,minHeight:r,maxWidth:l,maxHeight:s,backgroundColor:"#151719",webPreferences:{zoomFactor:d,devTools:!0,nodeIntegration:!0,contextIsolation:!1}}),this.window.on("closed",(()=>{a().app.quit(),this.window=null}));let p=!1;this.window.on("ready-to-show",(()=>{p||(p=!0,this.window.show(),-1!==o().argv.indexOf("--dev-tools")&&this.window.webContents.openDevTools())})),setTimeout((()=>{p||(p=!0,this.window.show(),-1!==o().argv.indexOf("--dev-tools")&&this.window.webContents.openDevTools())}),800);let u="file://"+i().join(__dirname,"..","index.html");u+="?dev="+(-1!==o().argv.indexOf("--dev")?"true":"false"),u+="&dataPath="+encodeURIComponent(a().app.getPath("userData")),this.window.loadURL(u,{userAgent:"pritunl"}),a().app.dock&&a().app.dock.show()}run(){this.mainWindow()}}o().on("uncaughtException",(function(n){let e;e=n&&n.stack?n.stack:String(n),a().dialog.showMessageBox(null,{type:"error",buttons:["Exit"],title:"Pritunl Client - Process Error",message:"Error occured in main process:\n\n"+e}).then((function(){a().app.quit()}))})),a().app.dock&&a().app.dock.hide(),a().app.on("window-all-closed",(()=>{})),a().app.on("open-file",(()=>{(new l).run()})),a().app.on("open-url",(()=>{(new l).run()})),a().app.on("activate",(()=>{(new l).run()})),a().app.on("quit",(()=>{a().app.quit()})),a().app.on("ready",(()=>{let n=new(a().Tray)(i().join(__dirname,"..","logo.png"));n.on("click",(function(){(new l).run()})),n.on("double-click",(function(){(new l).run()}));let e=a().Menu.buildFromTemplate([{label:"Pritunl vTODO",click:function(){(new l).run()}},{label:"Exit",click:function(){a().app.quit()}}]);n.setToolTip("Pritunl vTODO"),n.setContextMenu(e),(new l).run()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FDckIsSUFBSVMsRUFBTyxJQUFJLFVBQWMsU0FBVTVCLFVBQVcsS0FBTSxhQUN4RDRCLEVBQUtsQixHQUFHLFNBQVMsWUFDRixJQUFJdkIsR0FDVmdDLFNBRVRTLEVBQUtsQixHQUFHLGdCQUFnQixZQUNULElBQUl2QixHQUNWZ0MsU0FFVCxJQUFJVSxFQUFXLDJCQUFnQyxDQUMzQyxDQUNJQyxNQUFPLGdCQUNQQyxNQUFPLFlBQ1EsSUFBSTVDLEdBQ1ZnQyxRQUdiLENBQ0lXLE1BQU8sT0FDUEMsTUFBTyxXQUNILG1CQUlaSCxFQUFLSSxXQUFXLGlCQUNoQkosRUFBS0ssZUFBZUosSUFDVCxJQUFJMUMsR0FDVmdDLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcml0dW5sL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ByaXR1bmwvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcHJpdHVubC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcHJpdHVubC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ByaXR1bmwvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInByb2Nlc3NcIiIsIndlYnBhY2s6Ly9wcml0dW5sL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vcHJpdHVubC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZWxlY3Ryb25cIiIsIndlYnBhY2s6Ly9wcml0dW5sLy4vbWFpbi9NYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInByb2Nlc3NcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZWxlY3Ryb25cIik7IiwiaW1wb3J0IHByb2Nlc3MgZnJvbSBcInByb2Nlc3NcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZWxlY3Ryb24gZnJvbSBcImVsZWN0cm9uXCI7XG5jbGFzcyBNYWluIHtcbiAgICBtYWluV2luZG93KCkge1xuICAgICAgICBsZXQgd2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQ7XG4gICAgICAgIGxldCBtaW5XaWR0aDtcbiAgICAgICAgbGV0IG1pbkhlaWdodDtcbiAgICAgICAgbGV0IG1heFdpZHRoO1xuICAgICAgICBsZXQgbWF4SGVpZ2h0O1xuICAgICAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2RhcndpbicpIHtcbiAgICAgICAgICAgIHdpZHRoID0gMzQwO1xuICAgICAgICAgICAgaGVpZ2h0ID0gNDIzO1xuICAgICAgICAgICAgbWluV2lkdGggPSAzMDQ7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSAzNTI7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IDU0MDtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IDY0MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gNDIwO1xuICAgICAgICAgICAgaGVpZ2h0ID0gNTI4O1xuICAgICAgICAgICAgbWluV2lkdGggPSAzODA7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSA0NDA7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IDY3MDtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IDgwMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgem9vbUZhY3RvciA9IDE7XG4gICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJykge1xuICAgICAgICAgICAgem9vbUZhY3RvciA9IDAuODtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpbmRvdyA9IG5ldyBlbGVjdHJvbi5Ccm93c2VyV2luZG93KHtcbiAgICAgICAgICAgIHRpdGxlOiAnUHJpdHVubCBDbGllbnQnLFxuICAgICAgICAgICAgaWNvbjogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ2xvZ28ucG5nJyksXG4gICAgICAgICAgICBmcmFtZTogdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9IaWRlTWVudUJhcjogdHJ1ZSxcbiAgICAgICAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLFxuICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIG1pbldpZHRoOiBtaW5XaWR0aCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogbWluSGVpZ2h0LFxuICAgICAgICAgICAgbWF4V2lkdGg6IG1heFdpZHRoLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTUxNzE5JyxcbiAgICAgICAgICAgIHdlYlByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICAgICAgem9vbUZhY3Rvcjogem9vbUZhY3RvcixcbiAgICAgICAgICAgICAgICBkZXZUb29sczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBub2RlSW50ZWdyYXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGV4dElzb2xhdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2luZG93Lm9uKCdjbG9zZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBlbGVjdHJvbi5hcHAucXVpdCgpO1xuICAgICAgICAgICAgdGhpcy53aW5kb3cgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHNob3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMud2luZG93Lm9uKCdyZWFkeS10by1zaG93JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3duKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53aW5kb3cuc2hvdygpO1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuYXJndi5pbmRleE9mKCctLWRldi10b29scycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2luZG93LndlYkNvbnRlbnRzLm9wZW5EZXZUb29scygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvd24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG93biA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLndpbmRvdy5zaG93KCk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5hcmd2LmluZGV4T2YoJy0tZGV2LXRvb2xzJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aW5kb3cud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDgwMCk7XG4gICAgICAgIGxldCBpbmRleFVybCA9ICdmaWxlOi8vJyArIHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICdpbmRleC5odG1sJyk7XG4gICAgICAgIGluZGV4VXJsICs9ICc/ZGV2PScgKyAocHJvY2Vzcy5hcmd2LmluZGV4T2YoJy0tZGV2JykgIT09IC0xID9cbiAgICAgICAgICAgICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpbmRleFVybCArPSAnJmRhdGFQYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQoZWxlY3Ryb24uYXBwLmdldFBhdGgoJ3VzZXJEYXRhJykpO1xuICAgICAgICB0aGlzLndpbmRvdy5sb2FkVVJMKGluZGV4VXJsLCB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IFwicHJpdHVubFwiLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGVsZWN0cm9uLmFwcC5kb2NrKSB7XG4gICAgICAgICAgICBlbGVjdHJvbi5hcHAuZG9jay5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aGlzLm1haW5XaW5kb3coKTtcbiAgICB9XG59XG5wcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGxldCBlcnJvck1zZztcbiAgICBpZiAoZXJyb3IgJiYgZXJyb3Iuc3RhY2spIHtcbiAgICAgICAgZXJyb3JNc2cgPSBlcnJvci5zdGFjaztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVycm9yTXNnID0gU3RyaW5nKGVycm9yKTtcbiAgICB9XG4gICAgZWxlY3Ryb24uZGlhbG9nLnNob3dNZXNzYWdlQm94KG51bGwsIHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgYnV0dG9uczogWydFeGl0J10sXG4gICAgICAgIHRpdGxlOiAnUHJpdHVubCBDbGllbnQgLSBQcm9jZXNzIEVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0Vycm9yIG9jY3VyZWQgaW4gbWFpbiBwcm9jZXNzOlxcblxcbicgKyBlcnJvck1zZyxcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlY3Ryb24uYXBwLnF1aXQoKTtcbiAgICB9KTtcbn0pO1xuaWYgKGVsZWN0cm9uLmFwcC5kb2NrKSB7XG4gICAgZWxlY3Ryb24uYXBwLmRvY2suaGlkZSgpO1xufVxuZWxlY3Ryb24uYXBwLm9uKCd3aW5kb3ctYWxsLWNsb3NlZCcsICgpID0+IHtcbn0pO1xuZWxlY3Ryb24uYXBwLm9uKCdvcGVuLWZpbGUnLCAoKSA9PiB7XG4gICAgbGV0IG1haW4gPSBuZXcgTWFpbigpO1xuICAgIG1haW4ucnVuKCk7XG59KTtcbmVsZWN0cm9uLmFwcC5vbignb3Blbi11cmwnLCAoKSA9PiB7XG4gICAgbGV0IG1haW4gPSBuZXcgTWFpbigpO1xuICAgIG1haW4ucnVuKCk7XG59KTtcbmVsZWN0cm9uLmFwcC5vbignYWN0aXZhdGUnLCAoKSA9PiB7XG4gICAgbGV0IG1haW4gPSBuZXcgTWFpbigpO1xuICAgIG1haW4ucnVuKCk7XG59KTtcbmVsZWN0cm9uLmFwcC5vbigncXVpdCcsICgpID0+IHtcbiAgICBlbGVjdHJvbi5hcHAucXVpdCgpO1xufSk7XG5lbGVjdHJvbi5hcHAub24oJ3JlYWR5JywgKCkgPT4ge1xuICAgIGxldCB0cmF5ID0gbmV3IGVsZWN0cm9uLlRyYXkocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ2xvZ28ucG5nJykpO1xuICAgIHRyYXkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbWFpbiA9IG5ldyBNYWluKCk7XG4gICAgICAgIG1haW4ucnVuKCk7XG4gICAgfSk7XG4gICAgdHJheS5vbignZG91YmxlLWNsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbWFpbiA9IG5ldyBNYWluKCk7XG4gICAgICAgIG1haW4ucnVuKCk7XG4gICAgfSk7XG4gICAgbGV0IHRyYXlNZW51ID0gZWxlY3Ryb24uTWVudS5idWlsZEZyb21UZW1wbGF0ZShbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiAnUHJpdHVubCB2VE9ETycsXG4gICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCBtYWluID0gbmV3IE1haW4oKTtcbiAgICAgICAgICAgICAgICBtYWluLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogJ0V4aXQnLFxuICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVjdHJvbi5hcHAucXVpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG4gICAgdHJheS5zZXRUb29sVGlwKCdQcml0dW5sIHZUT0RPJyk7XG4gICAgdHJheS5zZXRDb250ZXh0TWVudSh0cmF5TWVudSk7XG4gICAgbGV0IG1haW4gPSBuZXcgTWFpbigpO1xuICAgIG1haW4ucnVuKCk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1haW4uanMubWFwIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicmVxdWlyZSIsIk1haW4iLCJtYWluV2luZG93Iiwid2lkdGgiLCJoZWlnaHQiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Iiwiem9vbUZhY3RvciIsInRoaXMiLCJ3aW5kb3ciLCJ0aXRsZSIsImljb24iLCJfX2Rpcm5hbWUiLCJmcmFtZSIsImF1dG9IaWRlTWVudUJhciIsImZ1bGxzY3JlZW4iLCJzaG93IiwiYmFja2dyb3VuZENvbG9yIiwid2ViUHJlZmVyZW5jZXMiLCJkZXZUb29scyIsIm5vZGVJbnRlZ3JhdGlvbiIsImNvbnRleHRJc29sYXRpb24iLCJvbiIsInNob3duIiwid2ViQ29udGVudHMiLCJvcGVuRGV2VG9vbHMiLCJzZXRUaW1lb3V0IiwiaW5kZXhVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJsb2FkVVJMIiwidXNlckFnZW50IiwicnVuIiwiZXJyb3IiLCJlcnJvck1zZyIsInN0YWNrIiwiU3RyaW5nIiwidHlwZSIsImJ1dHRvbnMiLCJtZXNzYWdlIiwidGhlbiIsInRyYXkiLCJ0cmF5TWVudSIsImxhYmVsIiwiY2xpY2siLCJzZXRUb29sVGlwIiwic2V0Q29udGV4dE1lbnUiXSwic291cmNlUm9vdCI6IiJ9